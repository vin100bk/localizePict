<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Jasmine Spec Runner v2.3.4</title>

    <link rel="shortcut icon" type="image/png" href="bower_components/jasmine/images/jasmine_favicon.png">
    <link rel="stylesheet" href="bower_components/jasmine/lib/jasmine-core/jasmine.css">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//maps.googleapis.com/maps/api/js?key=AIzaSyDYqLRaVHsDq2yi7dDFXPyccCwH8gjH6V0"></script>
    <script src="../bower_components/underscore/underscore-min.js"></script>
    <script src="../bower_components/backbone/backbone-min.js"></script>

    <script src="bower_components/jasmine/lib/jasmine-core/jasmine.js"></script>
    <script src="bower_components/jasmine/lib/jasmine-core/jasmine-html.js"></script>
    <script src="bower_components/jasmine/lib/jasmine-core/boot.js"></script>
    <script src="bower_components/jasmine-jquery/lib/jasmine-jquery.js"></script>

    <!-- include source files here... -->
    <script src="../src/js/LocalizePict.js"></script>
    <script src="../src/js/model/Picture.js"></script>
    <script src="../src/js/collection/pictures/Facebook.js"></script>
    <script src="../src/js/collection/Pictures.js"></script>
    <script src="../src/js/view/Abstract.js"></script>
    <script src="../src/js/view/Map.js"></script>
    <script src="../src/js/view/Picture.js"></script>
    <script src="../src/js/view/Error.js"></script>
    <script src="../src/js/router/Router.js"></script>

    <!-- include spec files here... -->
    <script src="spec/model/PictureSpec.js"></script>
    <script src="spec/collection/PicturesSpec.js"></script>
    <script src="spec/collection/Pictures.FacebookSpec.js"></script>
    <script src="spec/view/AbstractSpec.js"></script>
    <script src="spec/view/MapSpec.js"></script>
    <script src="spec/view/PictureSpec.js"></script>
    <script src="spec/view/ErrorSpec.js"></script>
    <script src="spec/router/RouterSpec.js"></script>

    <script>
        LocalizePict.Collection.Pictures.storageKey += '_tests';

        beforeAll(function() {
            jasmine.getFixtures().fixturesPath = '..';
            jasmine.getJSONFixtures().fixturesPath = 'data';

            var indexContent = readFixtures('index.html');
            $('body').after($(indexContent).filter('script[type="text/template"]'));
        });

        beforeEach(function() {
            LocalizePict.Collection.Pictures.storageHandler.removeItem(LocalizePict.Collection.Pictures.storageKey);
        });

        afterAll(function() {
            $('body ~ script[type="text/template"]').remove();
        });

        afterEach(function () {
            // Remove all HTML inserted
            $('main').empty();
        });
    </script>
</head>

<body>
<main></main>
</body>
</html>
